(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[590],{4066:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/firebase-test",function(){return r(1447)}])},1447:function(e,s,r){"use strict";let t,i;r.r(s),r.d(s,{default:function(){return u}});var n=r(5893),a=r(7294),c=r(9008),o=r.n(c),l=r(3977),d=r(9828),m=r(3454);console.log("Environment check:",{nodeEnv:"production",hasWindow:!0,hasApiKey:!!m.env.NEXT_PUBLIC_FIREBASE_API_KEY,hasAuthDomain:!!m.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,hasProjectId:!!m.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID});let E={apiKey:"FIREBASE_API_KEY_PLACEHOLDER",authDomain:"transluga-f0db9.firebaseapp.com",projectId:"transluga-f0db9",storageBucket:"transluga-f0db9.firebasestorage.app",messagingSenderId:"FIREBASE_MESSAGING_SENDER_ID_PLACEHOLDER",appId:"FIREBASE_APP_ID_PLACEHOLDER"},h={apiKey:m.env.NEXT_PUBLIC_FIREBASE_API_KEY||E.apiKey,authDomain:m.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN||E.authDomain,projectId:m.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID||E.projectId,storageBucket:m.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||E.storageBucket,messagingSenderId:m.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||E.messagingSenderId,appId:m.env.NEXT_PUBLIC_FIREBASE_APP_ID||E.appId,measurementId:m.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID};try{h.apiKey&&h.projectId?(t=(0,l.ZF)(h),i=(0,d.ad)(t),console.log("Firebase initialized successfully with project:",h.projectId)):console.error("Firebase configuration is missing required fields:",{hasApiKey:!!h.apiKey,hasProjectId:!!h.projectId})}catch(e){console.error("Error initializing Firebase:",e)}function u(){let[e,s]=(0,a.useState)("checking"),[r,t]=(0,a.useState)("");return(0,a.useEffect)(()=>{(async()=>{try{if(!i)throw Error("Firebase database is not initialized. Check your environment variables.");await (0,d.PL)((0,d.hJ)(i,"test-collection")),s("success")}catch(e){console.error("Firebase connection error:",e),s("error"),t(e instanceof Error?e.message:"Unknown error")}})()},[]),(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:[(0,n.jsx)(o(),{children:(0,n.jsx)("title",{children:"Firebase Connection Test | Transluga"})}),(0,n.jsx)("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl",children:(0,n.jsxs)("div",{className:"p-8",children:[(0,n.jsx)("div",{className:"uppercase tracking-wide text-sm text-indigo-500 font-semibold",children:"Firebase Connection Test"}),(0,n.jsx)("h1",{className:"mt-2 text-xl font-medium text-gray-900",children:"Testing Firebase Connection"}),(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Connection Status:"}),"checking"===e&&(0,n.jsxs)("div",{className:"mt-2 flex items-center text-gray-500",children:[(0,n.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Checking connection..."]}),"success"===e&&(0,n.jsx)("div",{className:"mt-2 text-green-600",children:"✅ Successfully connected to Firebase!"}),"error"===e&&(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)("div",{className:"text-red-600",children:"❌ Failed to connect to Firebase"}),(0,n.jsx)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-800",children:r}),(0,n.jsxs)("div",{className:"mt-4 text-gray-700",children:[(0,n.jsx)("h3",{className:"font-medium",children:"Possible reasons:"}),(0,n.jsxs)("ul",{className:"mt-2 list-disc pl-5 space-y-1",children:[(0,n.jsx)("li",{children:"Firebase credentials are not set up correctly in .env.local"}),(0,n.jsx)("li",{children:"Firebase project is not properly configured"}),(0,n.jsx)("li",{children:"Network connectivity issues"})]})]})]})]}),(0,n.jsxs)("div",{className:"mt-8 border-t border-gray-200 pt-6",children:[(0,n.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Next Steps:"}),(0,n.jsxs)("ul",{className:"mt-2 list-disc pl-5 space-y-1 text-gray-700",children:[(0,n.jsx)("li",{children:"Make sure you've created a .env.local file with your Firebase credentials"}),(0,n.jsx)("li",{children:"Ensure your Firebase project is properly set up with Firestore enabled"}),(0,n.jsx)("li",{children:"Check that your security rules allow the test operation"})]})]})]})})]})}}},function(e){e.O(0,[703,241,888,774,179],function(){return e(e.s=4066)}),_N_E=e.O()}]);